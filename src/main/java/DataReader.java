public class DataReader {
    private Double[] gpuTask_gpu;
    private Double[] gpuTask_cpu;
    private Double oldGPUTasktime = 0.0;
    private Double oldCPUTasktime = 0.0;

    public Double getTotalImmigrationTime() {
        return totalImmigrationTime;
    }

    public void setTotalImmigrationTime(Double totalImmigrationTime) {
        this.totalImmigrationTime = totalImmigrationTime;
    }

    private Double totalImmigrationTime = 0.0;

    public Double getOldAllGPUtime() {
        return oldAllGPUtime;
    }

    public void setOldAllGPUtime(Double oldAllGPUtime) {
        this.oldAllGPUtime = oldAllGPUtime;
    }

    private Double oldAllGPUtime = 0.0;
    private Double[] cpuTask_gpu;
    private Double[] cpuTask_cpu;

    public Double getOldGPUTasktime() {
        return oldGPUTasktime;
    }

    public void setOldGPUTasktime(Double oldGPUTasktime) {
        this.oldGPUTasktime = oldGPUTasktime;
    }

    public Double getOldCPUTasktime() {
        return oldCPUTasktime;
    }

    public void setOldCPUTasktime(Double oldCPUTasktime) {
        this.oldCPUTasktime = oldCPUTasktime;
    }

    public DataReader(Double[] gpuTask_gpu, Double[] gpuTask_cpu, Double[] cpuTask_gpu, Double[] cpuTask_cpu) {
        this.gpuTask_gpu = gpuTask_gpu;
        this.gpuTask_cpu = gpuTask_cpu;
        this.cpuTask_gpu = cpuTask_gpu;
        this.cpuTask_cpu = cpuTask_cpu;
    }

    public DataReader(){
        this.test();
    }

    public void test(){
//        this.gpuTask_gpu = new Double[]{14400.625, 4012.25, 3300.625, 3722.0, 2488.375, 3266.5, 4197.625, 4467.5, 21196.625, 7132.375, 7831.625, 4958.375, 4289.25, 2498.5, 2487.625, 3306.25, 2303.875, 1628.25};
//        this.gpuTask_cpu = new Double[]{34685.658999999985, 67507.73800000013, 34537.226999999955, 33530.929999999935, 25692.331000000006, 24624.62400000007, 34809.25, 40544.77799999993, 198426.73699999996, 71074.39800000004, 32484.459000000264, 25228.01199999964, 35091.35800000001, 23342.450000000186, 20459.066000000108, 27185.949000000022, 23405.827999999747, 7855.841000000015};
//        this.cpuTask_gpu = new Double[]{2757.625, 2643.0, 5516.5, 2986.0, 5487.375, 2054.0, 5893.75, 6076.75, 5759.125, 5713.875, 5529.75, 13213.5, 5308.125, 5374.125, 6984.0, 9723.375, 4602.0, 6104.875, 8153.5, 12137.75, 4720.5, 4245.5, 13644.75, 2682.875, 18910.375, 4295.5, 8430.125};
//        this.cpuTask_cpu = new Double[]{40382.513000000035, 21304.403999999864, 28008.476999999955, 28095.06200000015, 26579.325999999885, 20142.891999999993, 27162.232000000076, 23826.128000000026, 21288.342999999877, 23993.163000000175, 39715.72999999998, 76877.2200000002, 25799.060999999754, 23998.533000000287, 26030.097000000067, 34192.83099999977, 31860.30299999984, 23659.943000000436, 33179.7089999998, 38124.63899999997, 33105.49300000025, 44106.051999999676, 49286.1540000001, 22059.66000000015, 99398.71099999966, 43184.57800000021, 10394.842999999877};
        this.gpuTask_gpu = new Double[]{1.0,1.0,1.0,1.0};
        this.gpuTask_cpu = new Double[]{1.0,2.0,2.0,5.0};
        this.cpuTask_cpu = new Double[]{1.0,3.0,3.0,2.0};
        this.cpuTask_gpu = new Double[]{1.0,1.0,1.0,1.0};
//        this.gpuTask_gpu = new Double[]{3904.875, 3120.0, 1935.125, 2308.375, 2330.5, 1523.25, 1995.25, 6035.5, 3872.0, 2484.625, 3934.0, 4459.125, 3817.375, 1846.5, 3518.625, 3938.375, 2619.875, 2654.125, 4761.75, 10097.875, 12101.75, 3078.875, 3563.25, 1560.375, 2101.125, 2236.5, 1350.125, 2719.75, 2101.25, 2236.125, 1452.375, 2747.375, 2280.375, 1648.75, 2041.5, 2928.875, 2281.375, 2278.875, 2209.625, 2171.75, 2557.0, 2851.625, 2910.25, 2059.875, 2621.125, 2856.875, 2911.125, 2076.625, 2731.5, 3628.75, 2024.25, 2655.375, 2447.875, 2242.25, 1949.75, 1822.75, 2153.125, 2737.625, 2959.875, 1638.375, 3509.875, 2730.375, 2965.625, 1638.25, 3493.875, 2726.0, 2965.125, 1637.75, 3513.25, 2731.375, 7853.875, 467.875, 4188.125, 2667.75, 3408.125, 5978.75, 578.625, 3865.375, 2276.5, 3576.125, 5765.25, 577.625, 3852.75, 2271.25, 3571.625, 5761.0, 577.5, 3850.375, 2270.75, 3602.75, 5884.125, 580.875, 3950.625, 3162.0, 1332.0, 2892.75, 4432.875, 469.0, 4071.375, 1810.5, 2676.75, 2889.75, 4409.125, 466.5, 3975.5, 1781.75, 2638.125, 2833.75, 4336.25, 467.0, 3977.125, 1781.375, 2641.5, 2842.75, 4335.375, 468.0, 3978.875, 1785.25, 2656.75, 2894.25, 4426.75, 472.125, 4066.875, 1810.75, 2674.75, 2889.75, 4423.75, 466.875, 4067.375, 1811.375, 2673.75, 2893.0, 4407.125, 467.875, 3979.25, 1785.625, 2637.375, 2841.25, 1351.625, 1974.375};
//        this.gpuTask_cpu = new Double[]{25164.39699999988, 25688.61199999973, 20153.218999999575, 20175.4020000007, 20008.530999999493, 20207.82600000035, 22027.413999999873, 20252.435999999754, 21297.726000000723, 20267.528999999166, 20673.218000000343, 22226.70600000024, 20717.20099999942, 20104.02100000065, 21674.79899999965, 22178.60900000017, 20861.273000000045, 20071.18200000003, 22627.075000000186, 20148.705999999307, 25779.726000000723, 21759.213999999687, 23082.598999999464, 22075.525000000373, 27212.976999999955, 26587.81500000041, 20795.617999999784, 30830.365000000224, 26322.07599999942, 24615.809000000358, 20346.707000000402, 35408.479999999516, 31786.575000000186, 24252.26099999994, 24819.358000000007, 36888.7209999999, 33698.696999999695, 26716.01900000032, 26964.46200000029, 28485.446999999695, 26407.0, 23677.419999999925, 23472.61400000006, 22057.286000000313, 26299.233000000007, 21985.45699999947, 28794.591000000015, 20854.88599999994, 25693.305999999866, 21542.47000000067, 21496.22800000012, 30037.91299999971, 30673.222000000067, 22714.48900000006, 22466.64399999939, 20958.629000000656, 23952.441999999806, 29591.117999999784, 23350.865000000224, 20420.862999999896, 29961.058000000194, 21532.811000000685, 22532.607000000775, 20595.485999999568, 30381.572999998927, 21692.658999999985, 22931.389000000432, 20177.33100000024, 31481.270999999717, 21333.221000000834, 46471.08799999952, 36712.4570000004, 28244.708999998868, 20475.018000001088, 30050.58499999903, 64037.743000000715, 28065.18999999948, 45739.16899999976, 20197.025000000373, 29365.911000000313, 64252.4179999996, 27932.625, 43046.48500000127, 20722.648999998346, 28927.506000000983, 63488.080000000075, 29153.971999999136, 44916.07500000112, 20907.411999998614, 28777.26000000164, 43277.300999999046, 29142.46199999936, 26725.433000000194, 20394.491000000387, 23837.553999999538, 26158.783999999985, 50667.54900000058, 27605.042999999598, 48848.9299999997, 33440.333000000566, 33661.80900000036, 26299.572000000626, 60123.01499999873, 27810.05700000003, 57658.713000001386, 31064.08699999936, 33099.35099999979, 26535.526000000536, 61915.3329999987, 29060.53200000152, 57048.631999999285, 23713.335000000894, 22360.359999999404, 36167.33699999936, 63318.183000000194, 32178.911000000313, 59445.791999999434, 23734.68500000052, 20316.210999999195, 34175.71200000122, 59763.8329999987, 32693.821000000462, 49024.666999999434, 36060.158999999985, 42367.26099999994, 35302.40100000054, 65221.29900000058, 32333.07399999909, 62267.406000001356, 36212.944000000134, 31726.645999999717, 35684.438999999315, 66777.2620000001, 34334.191999999806, 60318.00200000033, 35940.61199999973, 36147.34200000018, 33249.78099999949, 26597.982000000775, 53608.99799999967};
//        this.cpuTask_gpu =new Double[]{3887.375, 2742.75, 3378.875, 1411.125, 6564.125, 2153.625, 2560.875, 1517.5, 2000.0, 3108.875, 1741.75, 1456.0, 2877.5, 2562.125, 1621.0, 3419.0, 1818.0, 2058.0, 3238.875, 2192.375, 3127.625, 2251.5, 2108.375, 1478.875, 2016.0, 1751.0, 2766.125, 2696.0, 2025.375, 2731.5, 2433.625, 2735.875, 3473.25, 2596.375, 3675.0, 3206.625, 3553.75, 3166.125, 5549.875, 2809.875, 3359.0, 3745.25, 2747.0, 2426.875, 4233.25, 4198.125, 3576.0, 2635.0, 2345.5, 3594.5, 2446.25, 2296.875, 3856.0, 7016.25, 2148.25, 2525.875, 2619.375, 2223.25, 1366.875, 4559.0, 3782.5, 3862.625, 1503.125, 3083.875, 1699.625, 4712.25, 2919.25, 7419.375, 5259.25, 15948.375, 1775.125, 8346.125, 6998.0, 7967.75, 18584.5, 16635.875, 5943.5, 3043.5};
//        this.cpuTask_cpu =new Double[]{87938.84400000004, 30009.804000000004, 42670.40700000012, 27225.676999999676, 112996.75400000019, 21132.424000000115, 38992.132999999914, 22902.308999999892, 38651.77199999988, 58473.58900000015, 21074.08799999999, 20455.720000000205, 53522.83599999966, 26023.733000000007, 31011.705000000075, 51281.48900000006, 20277.523000000045, 25036.487999999896, 38381.996000000276, 26392.711999999825, 36875.625, 25906.186999999918, 21020.38400000008, 27272.728999999817, 27336.169000000227, 21263.549000000115, 37942.76099999994, 29182.618999999948, 20136.330000000075, 26223.769999999553, 25012.22800000012, 21087.08700000029, 20436.955000000075, 23101.751000000164, 22581.688000000082, 21709.109999999404, 22298.93500000052, 20000.91899999976, 47951.808000000194, 20973.68499999959, 23890.68500000052, 21265.794999999925, 27908.683999999426, 21562.061000000685, 25539.45099999942, 37855.498999999836, 33926.783999999985, 20599.88000000082, 20151.73899999913, 29710.11700000055, 21100.804999999702, 20838.199000000022, 39082.47200000007, 63387.99199999962, 47980.471000000834, 25929.544999999925, 27091.85399999935, 33334.74500000011, 26317.49500000011, 102715.10699999984, 54284.10900000017, 62180.66399999987, 21649.856999999844, 20766.85300000012, 23131.9020000007, 64449.495999999344, 30030.922000000253, 64369.34700000007, 95972.51999999955, 159291.69900000002, 32811.751000000164, 100055.83100000024, 141346.10400000028, 69062.26299999934, 20642.47500000056, 20019.468999999575, 20731.735000000335, 5450.247999999672};
        for(Double d : this.gpuTask_gpu){
            this.oldAllGPUtime+=d;
            this.oldGPUTasktime+=d;
        }
        this.oldAllGPUtime*=2;
        for(Double d: this.cpuTask_gpu){
            this.oldAllGPUtime+=d;
        }
        for(Double d: this.cpuTask_cpu){
            this.oldCPUTasktime+=d;
        }
        this.totalImmigrationTime = this.oldGPUTasktime;
        double temp = 0.0;
        int i = 0;
        for(i= 0;i<this.cpuTask_cpu.length;i++){
            temp+=this.cpuTask_cpu[i];
            if(temp > this.oldGPUTasktime){
                System.out.println(i+"iiiii,"+this.cpuTask_cpu.length);
                break;
            }
        }
        for(int j = i;j<this.cpuTask_gpu.length;j++){
            temp+=this.cpuTask_gpu[j];
        }
        this.totalImmigrationTime += temp;
    }

    public Double[] getGpuTask_gpu() {
        return gpuTask_gpu;
    }

    public void setGpuTask_gpu(Double[] gpuTask_gpu) {
        this.gpuTask_gpu = gpuTask_gpu;
    }

    public Double[] getGpuTask_cpu() {
        return gpuTask_cpu;
    }

    public void setGpuTask_cpu(Double[] gpuTask_cpu) {
        this.gpuTask_cpu = gpuTask_cpu;
    }

    public Double[] getCpuTask_gpu() {
        return cpuTask_gpu;
    }

    public void setCpuTask_gpu(Double[] cpuTask_gpu) {
        this.cpuTask_gpu = cpuTask_gpu;
    }

    public Double[] getCpuTask_cpu() {
        return cpuTask_cpu;
    }

    public void setCpuTask_cpu(Double[] cpuTask_cpu) {
        this.cpuTask_cpu = cpuTask_cpu;
    }
}
